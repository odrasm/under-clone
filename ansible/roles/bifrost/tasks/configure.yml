---
- name: ensure config dir exists
  file:
    path: "{{ config_dir }}/baremetal"
    state: directory

- name: Create a volume
  docker_volume:
    name: bifrost_httpboot

- name: Create a volume
  docker_volume:
    name: bifrost_mysql

- name: Create a volume
  docker_volume:
    name: bifrost_tftpboot

- name: Create a volume
  docker_volume:
    name: bifrost_ironic

- name: Create a volume
  docker_volume:
    name: bifrost_ironiclib

- name: Copy config template
  template:
    src: localhost.j2
    dest: "{{ config_dir }}/bifrost/localhost"

- name: Copy config template
  template:
    src: localhost.j2
    dest: "{{ config_dir }}/bifrost/target"
